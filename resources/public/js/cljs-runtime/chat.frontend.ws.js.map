{"version":3,"sources":["chat/frontend/ws.cljs"],"mappings":";AAIA,4BAAA,2CAAA,vEAAKC,wIAAsB,WAAKC;AAAL,AAAQ,OAACC,YAAmBD,AAGA,AAAA,AAAA,mBAAA,WAAAE;AAAA,AAAQ,mBAAAA,ZAACD;;GAHhE,4DAAA;AAAA,AAI2B,gHAAA,zGAACE;GAJ5B,6DAAA;AAAA,AAK2B,gHAAA,zGAACA;GAL5B,6DAAA,WAAAL;AAAA,AAM2B,gHAAA,gCAAAA,zIAACK;;AAE5B,AAAKC,0BAAO,qBAAA,rBAACC,8CAAmCN;AAEhD,gCAAA,hCAAMO,wEAAcC;AAApB,AACE,OAACC,iDAAQJ,wBAAOG,QAAQE","names":["p1__12032#","chat.frontend.ws/handlers","m","js/console.log","p1__12031#","cljs.core.println","chat.frontend.ws/socket","wscljs.client/create","chat.frontend.ws/send-message","message","wscljs.client.send","wscljs.format/json"],"sourcesContent":["(ns chat.frontend.ws\n  (:require [wscljs.client :as ws]\n            [wscljs.format :as fmt]))\n\n(def handlers {:on-message (fn [m] (js/console.log (-> m\n                                                       .-data\n                                                       .text\n                                                       (.then #(js/console.log %)))))\n               :on-open   #(println \"Opening a new connection\")\n               :on-close  #(println \"Closing a connection\")\n               :on-error  #(println \"Error occurred in websocket: \" %)})\n\n(def socket (ws/create \"ws://localhost:3000/ws\" handlers))\n\n(defn send-message [message]\n  (ws/send socket message fmt/json))"]}